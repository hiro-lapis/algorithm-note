[問題文](https://atcoder.jp/contests/abc290/tasks/abc290_c)

#mex
#配列の使い方
#入力バッファ

### 資料

- mex
  - https://rsk0315.hatenablog.com/entry/2020/10/11/125049
- MEX の他の問題
  - https://yamakasa.net/atcoder-abc-194-e/#comment-9

## 問題文の把握

- 長さ N の正の数からなる文字列 A がある
- A から K コの要素を選んで、順序を保ったまま抜き出した列 B を作る
- この B について、MEX(B) の最大値を求めよ
- 
- 数列 X に対して MEX(X) は以下の条件を満たす唯一の整数 m として定義される
  - 0 <= i < m を満たす全ての整数 i が X に含まれる
  - m が X に含まれない
＊ mex <= K である

- 制約
  - 入力は全て整数
  - 1 <= K <= N <= 3 * 10^5
  - 0 <= Ai <= 10^9

```
N K
A1, A2 ... AN

case1
7 3
2 0 2 3 2 1 9
=> 3

1,2,3 番目を取り出した時、 MEX(B) = MEX(2,0,2) = 1
=> [2,0,2] という配列に含まれない最小の整数は 1 である

3,4,6 番目を取り出した時、 MEX(B) = MEX(3,4,6) = 0
=> [3,4,6] という配列に含まれない最小の整数は 0 である
```

- MEX とは

minimum exclude, 自然数の集合(0を含む)を対象に、集合に含まれない最小の自然数のこと

[2, 4, 6] という集合だったら、0 が mex  
[0, 1, 2, 4, 6] という集合だったら、3 が mex

## ロジック

MEX について考えるとき、最小の値は 0 なので、受け取った N の入力値から 0 の値を探していく  

条件について考えてみると、**順序を保ったまま** K コの要素を選ぶというところがキモ　　
`[2, 1, 0, 4, 1, 5]` という配列だったら、3番目の 0 が最初に選ばれ、次に選べる数値は 0 より右の 4,1,5 に限られる
この感じで K の値に達するまで MEX の値を検索していく

また、case にみるように MEX の値が +1 されるケースがある  

```
[2, 1, 0, 4, 1, 2, 5, 3]について、
K = 2 のとき : [0,1]
=> 2

K = 3 : [0,1,2] 
=> 3
K = 4 : [0,1,2,3] 
=> 4
```
回答の値が K と同値になる場合と、K 未満になる場合がある  
K コの数列要素が、1,2,3...と全て揃っているような場合は、回答値 = K となる
そうでない場合は、K 未満となる

### inspect

何度か解答したが AC できず。
自分の解答は以下の感じ  

配列を前から順に見ていって、0,1,2 と探していく  
いくつかのパターンを想定したif文を作ったけど、自分で書いておきながら意味がわかりにくい。。。  

```
	ans := 0
	for i := 0; i < len(l); i++ {
		if ans == k-1 {
			break
		}
		if i == len(l)-1 {
			ans++
		}
		if l[i] == ans {
			ans++
		}
	}
```

解説もわかりにくかったので [ccppjsrb さんの解答](https://atcoder.jp/contests/abc290/submissions/39018933)を参考に解答を作成  

```
	// 各数値の存在を示すmapを作成
	// length=0 で、追加に応じて拡張
	m := map[int]bool{}
	for i := 0; i < n; i++ {
		m[l[i]] = true
	}

	/**
	 * 7 3
	 * 2 0 2 3 2 1 9
	 * => map[0:true 1:true 2:true 3:true 9:true]
	 * fmt.Println(m[7]) => false
	 */
	ans := 0
	for i := 0; i < n+1 && k > 0; i++ {
		// 探している値がある場合
		if m[i] {
			ans++
			k--
			continue
		}
		fmt.Println(i)
		return
	}
	fmt.Println(ans)
```

変数 m の使い方がとても便利かつ分かりやすい!  
飛び飛びの index で作った map も、データを入れてない index を参照した時にエラーにならないというのは初めて知った

### tips

受け取る入力値の値が 10^9  
その入力値を探索するのに 10^9  
K の値が3 * 10^5 だが、計算量に影響はない  

入力値の数が多いため、scanner を使ったバッファリングは必須  